<!doctype html><html lang=en dir=ltr><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Lab02 后端基础 # 实验目的 # 掌握 Python 基础代码 了解 Django 框架，学习使用框架编写几个简单 API 学习使用 Postman/ApiFox 请求工具测试后端 API 资源链接 # https://bhpan.buaa.edu.cn:443/link/3A508B02D5CE20902AE2983009CE5D1B
Valid Until: 2023-07-15 23:59
实验指南 # 观看上述云盘链接中 Lab02/后端Django 目录下的视频教程 文字教程可查阅 Django入门教程 和 Django入土教程 完成实验作业并于 3.25 日晚 12 点前提交至 软院云平台 实验作业 # 本次作业在提供的模板项目代码上修改完成，也可以自己新建项目，体验 Django 初始化项目的过程。
任务一 完善注册 # 请完善注册的API，实现以下功能：
增加用户名格式检测，保证用户名由英文或数字组成：当请求用户名含其它字符时，返回 errno 为 1003，msg 为 用户名不合法； 增加用户名检测，保证用户名不重复：当数据库里存在请求携带的用户名时，返回 errno 为 1004，msg 为 用户名已存在； 增加密码检测，保证密码由8~18位字符组成，且需同时包含英文和数字：当密码不合法时，返回 errno 为 1005，msg 为 密码不合法。 注册API返回信息汇总：
情况 errno msg 成功 0 注册成功 请求方式不为POST 1001 请求方式错误 两次输入的密码不同 1002 两次输入的密码不同 用户名含除英文和数字以外的字符 1003 用户名不合法 用户名重复 1004 用户名已存在 密码不符合规则 1005 密码不合法 返回样例："><meta name=theme-color content="#FFFFFF"><meta name=color-scheme content="light dark"><meta property="og:title" content="后端实验指南"><meta property="og:description" content="Lab02 后端基础 # 实验目的 # 掌握 Python 基础代码 了解 Django 框架，学习使用框架编写几个简单 API 学习使用 Postman/ApiFox 请求工具测试后端 API 资源链接 # https://bhpan.buaa.edu.cn:443/link/3A508B02D5CE20902AE2983009CE5D1B
Valid Until: 2023-07-15 23:59
实验指南 # 观看上述云盘链接中 Lab02/后端Django 目录下的视频教程 文字教程可查阅 Django入门教程 和 Django入土教程 完成实验作业并于 3.25 日晚 12 点前提交至 软院云平台 实验作业 # 本次作业在提供的模板项目代码上修改完成，也可以自己新建项目，体验 Django 初始化项目的过程。
任务一 完善注册 # 请完善注册的API，实现以下功能：
增加用户名格式检测，保证用户名由英文或数字组成：当请求用户名含其它字符时，返回 errno 为 1003，msg 为 用户名不合法； 增加用户名检测，保证用户名不重复：当数据库里存在请求携带的用户名时，返回 errno 为 1004，msg 为 用户名已存在； 增加密码检测，保证密码由8~18位字符组成，且需同时包含英文和数字：当密码不合法时，返回 errno 为 1005，msg 为 密码不合法。 注册API返回信息汇总：
情况 errno msg 成功 0 注册成功 请求方式不为POST 1001 请求方式错误 两次输入的密码不同 1002 两次输入的密码不同 用户名含除英文和数字以外的字符 1003 用户名不合法 用户名重复 1004 用户名已存在 密码不符合规则 1005 密码不合法 返回样例："><meta property="og:type" content="article"><meta property="og:url" content="https://BUAA-GoodBro2021.github.io/SE-Labs/docs/labs/lab02/backend_index/"><meta property="article:section" content="docs"><meta property="article:modified_time" content="2023-03-18T15:08:47+08:00"><title>后端实验指南 | 软件工程基础上机指南</title><link rel=manifest href=/SE-Labs/manifest.json><link rel=icon href=/SE-Labs/favicon.png type=image/x-icon><link rel=stylesheet href=/SE-Labs/book.min.82c5dbd23447cee0b4c2aa3ed08ce0961faa40e1fa370eee4f8c9f02e0d46b5f.css integrity="sha256-gsXb0jRHzuC0wqo+0Izglh+qQOH6Nw7uT4yfAuDUa18=" crossorigin=anonymous><script defer src=/SE-Labs/flexsearch.min.js></script>
<script defer src=/SE-Labs/en.search.min.6df40ce09760f2aef066110ff29ef7ba2ab4eeb653dda78fb62e8fe0c8ab6521.js integrity="sha256-bfQM4Jdg8q7wZhEP8p73uiq07rZT3aePti6P4MirZSE=" crossorigin=anonymous></script>
<script defer src=/SE-Labs/sw.min.f070c2d3fe61272a24a6ca9a09530ce459448de39ce9b3c07c7e12ee4e7b69a1.js integrity="sha256-8HDC0/5hJyokpsqaCVMM5FlEjeOc6bPAfH4S7k57aaE=" crossorigin=anonymous></script></head><body dir=ltr><input type=checkbox class="hidden toggle" id=menu-control>
<input type=checkbox class="hidden toggle" id=toc-control><main class="container flex"><aside class=book-menu><div class=book-menu-content><nav><h2 class=book-brand><a class="flex align-center" href=/SE-Labs/><span>软件工程基础上机指南</span></a></h2><div class=book-search><input type=text id=book-search-input placeholder=Search aria-label=Search maxlength=64 data-hotkeys=s/><div class="book-search-spinner hidden"></div><ul id=book-search-results></ul></div><ul><li class=book-section-flat><span>Labs</span><ul><li><a href=/SE-Labs/docs/labs/lab01/>Lab01 Git</a><ul><li><a href=/SE-Labs/docs/labs/lab01/git/>Git 简易教程</a></li><li><a href=/SE-Labs/docs/labs/lab01/git_command/>Git 指令全集</a></li></ul></li><li><a href=/SE-Labs/docs/labs/lab02/>Lab02 前后端基础Ⅰ</a><ul><li><a href=/SE-Labs/docs/labs/lab02/frontend_index/>前端实验指南</a></li><li><a href=/SE-Labs/docs/labs/lab02/Example-code/>前端示例代码</a></li><li><a href=/SE-Labs/docs/labs/lab02/backend_index/ class=active>后端实验指南</a></li><li><a href=/SE-Labs/docs/labs/lab02/django_door/>Django入门篇</a></li><li><a href=/SE-Labs/docs/labs/lab02/django_earth/>Django入土篇</a></li></ul></li><li><a href=/SE-Labs/docs/labs/lab03/>Lab03 前后端基础Ⅱ</a><ul><li><a href=/SE-Labs/docs/labs/lab03/frontend_index/>前端实验指南</a></li><li><a href=/SE-Labs/docs/labs/lab03/backend_index/>后端实验指南</a></li><li><a href=/SE-Labs/docs/labs/lab03/vuebook/>Vue Guide Book</a><ul><li><a href=/SE-Labs/docs/labs/lab03/vuebook/vue_install/>Vue 安装</a></li><li><a href=/SE-Labs/docs/labs/lab03/vuebook/vue_create_project/>Vue 创建项目</a></li><li><a href=/SE-Labs/docs/labs/lab03/vuebook/vue_structure/>Vue 项目架构</a></li></ul></li><li><a href=/SE-Labs/docs/labs/lab03/yaml%E5%B0%8F%E6%8C%87%E5%8D%97/>YAML 小指南</a></li></ul></li><li><a href=/SE-Labs/docs/labs/lab04/>Lab04 项目管理与数据库建模</a><ul></ul></li><li><a href=/SE-Labs/docs/labs/lab05/>Lab05 UML图的绘制</a><ul></ul></li><li><a href=/SE-Labs/docs/labs/lab06/>Lab06 软件测试</a><ul></ul></li><li><a href=/SE-Labs/docs/labs/lab07/>Lab07 项目部署</a><ul><li><a href=/SE-Labs/docs/labs/lab07/CI_CD/>CI/CD 简介</a></li><li><a href=/SE-Labs/docs/labs/lab07/deployment/>前后端项目部署</a></li></ul></li></ul></li></ul><ul><li><a href=https://github.com/BUAA-GoodBro2021/SE-Labs target=_blank rel=noopener>Github</a></li></ul></nav><script>(function(){var e=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script></div></aside><div class=book-page><header class=book-header><div class="flex align-center justify-between"><label for=menu-control><img src=/SE-Labs/svg/menu.svg class=book-icon alt=Menu></label>
<strong>后端实验指南</strong>
<label for=toc-control><img src=/SE-Labs/svg/toc.svg class=book-icon alt="Table of Contents"></label></div><aside class="hidden clearfix"><nav id=TableOfContents><ul><li><a href=#lab02-后端基础>Lab02 后端基础</a><ul><li><a href=#实验目的>实验目的</a></li><li><a href=#资源链接>资源链接</a></li><li><a href=#实验指南>实验指南</a></li><li><a href=#实验作业>实验作业</a><ul><li><a href=#任务一-完善注册>任务一 完善注册</a></li><li><a href=#任务二-新增文章表项>任务二 新增“文章”表项</a></li><li><a href=#任务三-新增发布文章api>任务三 新增“发布文章”API</a></li><li><a href=#任务四-新增查看文章列表api>任务四 新增“查看文章列表”API</a></li><li><a href=#任务五-聪明的你帮助教改改bugspan-stylecolor-red不强制写出来说明你是高手zhoues-认可的高手span>任务五 聪明的你帮助教改改Bug<span style=color:red>（不强制，写出来说明你是高手！Zhoues 认可的高手）</span></a></li><li><a href=#任务六-实验文档报告不做要求>任务六 实验文档报告（不做要求）</a></li><li><a href=#提交方式>提交方式</a></li></ul></li></ul></li></ul></nav></aside></header><article class=markdown><h1 id=lab02-后端基础>Lab02 后端基础
<a class=anchor href=#lab02-%e5%90%8e%e7%ab%af%e5%9f%ba%e7%a1%80>#</a></h1><h2 id=实验目的>实验目的
<a class=anchor href=#%e5%ae%9e%e9%aa%8c%e7%9b%ae%e7%9a%84>#</a></h2><ul><li>掌握 Python 基础代码</li><li>了解 Django 框架，学习使用框架编写几个简单 API</li><li>学习使用 Postman/ApiFox 请求工具测试后端 API</li></ul><h2 id=资源链接>资源链接
<a class=anchor href=#%e8%b5%84%e6%ba%90%e9%93%be%e6%8e%a5>#</a></h2><p><a href=https://bhpan.buaa.edu.cn:443/link/2B8C3DF0CE32D21908D8007C843940A5 target=_blank><a href=https://bhpan.buaa.edu.cn:443/link/3A508B02D5CE20902AE2983009CE5D1B>https://bhpan.buaa.edu.cn:443/link/3A508B02D5CE20902AE2983009CE5D1B</a></a></p><p>Valid Until: 2023-07-15 23:59</p><h2 id=实验指南>实验指南
<a class=anchor href=#%e5%ae%9e%e9%aa%8c%e6%8c%87%e5%8d%97>#</a></h2><ol><li>观看上述云盘链接中 Lab02/后端Django 目录下的视频教程</li><li>文字教程可查阅
<a href=/SE-Labs/docs/labs/lab02/django_door/>Django入门教程</a> 和
<a href=/SE-Labs/docs/labs/lab02/django_earth/>Django入土教程</a></li><li>完成实验作业并于 3.25 日晚 12 点前提交至 <a href=https://scs.buaa.edu.cn/ target=_blank>软院云平台</a></li></ol><h2 id=实验作业>实验作业
<a class=anchor href=#%e5%ae%9e%e9%aa%8c%e4%bd%9c%e4%b8%9a>#</a></h2><p>本次作业在提供的模板项目代码上修改完成，也可以自己新建项目，体验 Django 初始化项目的过程。</p><h3 id=任务一-完善注册>任务一 完善注册
<a class=anchor href=#%e4%bb%bb%e5%8a%a1%e4%b8%80-%e5%ae%8c%e5%96%84%e6%b3%a8%e5%86%8c>#</a></h3><p>请完善注册的API，实现以下功能：</p><ul><li>增加用户名格式检测，保证用户名由英文或数字组成：当请求用户名含其它字符时，返回 <code>errno</code> 为 1003，<code>msg</code> 为 <code>用户名不合法</code>；</li><li>增加用户名检测，保证用户名不重复：当数据库里存在请求携带的用户名时，返回 <code>errno</code> 为 1004，<code>msg</code> 为 <code>用户名已存在</code>；</li><li>增加密码检测，保证密码由8~18位字符组成，且需同时包含英文和数字：当密码不合法时，返回 <code>errno</code> 为 1005，<code>msg</code> 为 <code>密码不合法</code>。</li></ul><p>注册API返回信息汇总：</p><table><thead><tr><th>情况</th><th>errno</th><th>msg</th></tr></thead><tbody><tr><td>成功</td><td>0</td><td>注册成功</td></tr><tr><td>请求方式不为POST</td><td>1001</td><td>请求方式错误</td></tr><tr><td>两次输入的密码不同</td><td>1002</td><td>两次输入的密码不同</td></tr><tr><td>用户名含除英文和数字以外的字符</td><td>1003</td><td>用户名不合法</td></tr><tr><td>用户名重复</td><td>1004</td><td>用户名已存在</td></tr><tr><td>密码不符合规则</td><td>1005</td><td>密码不合法</td></tr></tbody></table><p>返回样例：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json><span style=display:flex><span>{
</span></span><span style=display:flex><span>    <span style=color:#f92672>&#34;errno&#34;</span>: <span style=color:#ae81ff>0</span>,
</span></span><span style=display:flex><span>    <span style=color:#f92672>&#34;msg&#34;</span>: <span style=color:#e6db74>&#34;注册成功&#34;</span>
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=任务二-新增文章表项>任务二 新增“文章”表项
<a class=anchor href=#%e4%bb%bb%e5%8a%a1%e4%ba%8c-%e6%96%b0%e5%a2%9e%e6%96%87%e7%ab%a0%e8%a1%a8%e9%a1%b9>#</a></h3><blockquote class="book-hint warning">每次更改数据库模型都需要重新生成迁移文件 <code>makemigrations</code> & <code>migrate</code></blockquote><p>添加新的数据库表项——文章，用于存放用户发表的文章，其属性至少包含标题、描述信息、文章内容、创建时间、<strong>文章状态</strong>（包含审核中、已发布、审核失败），并能够体现与用户的关联关系（外键）。</p><h3 id=任务三-新增发布文章api>任务三 新增“发布文章”API
<a class=anchor href=#%e4%bb%bb%e5%8a%a1%e4%b8%89-%e6%96%b0%e5%a2%9e%e5%8f%91%e5%b8%83%e6%96%87%e7%ab%a0api>#</a></h3><p>实现“发布文章”的API，满足用户发布文章的需求。</p><p>请严谨考虑发布文章的业务逻辑，包含<strong>用户登录信息验证、请求字段能否为空、用户发布文章后文章应处于哪一状态</strong>等，同时需规定好返回的错误码 <code>errno</code> 和描述信息 <code>msg</code>。</p><h3 id=任务四-新增查看文章列表api>任务四 新增“查看文章列表”API
<a class=anchor href=#%e4%bb%bb%e5%8a%a1%e5%9b%9b-%e6%96%b0%e5%a2%9e%e6%9f%a5%e7%9c%8b%e6%96%87%e7%ab%a0%e5%88%97%e8%a1%a8api>#</a></h3><p>实现“查看文章列表”的API，满足：用户想查看自己处于<strong>某个状态</strong>的所有文章，该API能返回<strong>相应状态</strong>的文章列表。</p><p>返回的文章列表中，每个文章对象应包含：标题、描述信息、创建时间。</p><p>响应示例（可参考不强制）：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json><span style=display:flex><span>{
</span></span><span style=display:flex><span>    <span style=color:#f92672>&#34;errno&#34;</span>: <span style=color:#ae81ff>0</span>,
</span></span><span style=display:flex><span>    <span style=color:#f92672>&#34;msg&#34;</span>: <span style=color:#e6db74>&#34;查询成功&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#f92672>&#34;data&#34;</span>: [
</span></span><span style=display:flex><span>        {
</span></span><span style=display:flex><span>            <span style=color:#f92672>&#34;title&#34;</span>: <span style=color:#e6db74>&#34;软件工程实用教程&#34;</span>,
</span></span><span style=display:flex><span>            <span style=color:#f92672>&#34;description&#34;</span>: <span style=color:#e6db74>&#34;北航软件工程基础课程参考教材&#34;</span>,
</span></span><span style=display:flex><span>            <span style=color:#f92672>&#34;create_time&#34;</span>: <span style=color:#e6db74>&#34;2023/3/25 15:32&#34;</span>
</span></span><span style=display:flex><span>        },
</span></span><span style=display:flex><span>        {
</span></span><span style=display:flex><span>            <span style=color:#f92672>&#34;title&#34;</span>: <span style=color:#e6db74>&#34;计算机科学引论&#34;</span>,
</span></span><span style=display:flex><span>            <span style=color:#f92672>&#34;description&#34;</span>: <span style=color:#e6db74>&#34;北航计算机导论课程参考教材&#34;</span>,
</span></span><span style=display:flex><span>            <span style=color:#f92672>&#34;create_time&#34;</span>: <span style=color:#e6db74>&#34;2023/3/25 16:32&#34;</span>
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    ]
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=任务五-聪明的你帮助教改改bugspan-stylecolor-red不强制写出来说明你是高手zhoues-认可的高手span>任务五 聪明的你帮助教改改Bug<span style=color:red>（不强制，写出来说明你是高手！Zhoues 认可的高手）</span>
<a class=anchor href=#%e4%bb%bb%e5%8a%a1%e4%ba%94-%e8%81%aa%e6%98%8e%e7%9a%84%e4%bd%a0%e5%b8%ae%e5%8a%a9%e6%95%99%e6%94%b9%e6%94%b9bugspan-stylecolor-red%e4%b8%8d%e5%bc%ba%e5%88%b6%e5%86%99%e5%87%ba%e6%9d%a5%e8%af%b4%e6%98%8e%e4%bd%a0%e6%98%af%e9%ab%98%e6%89%8bzhoues-%e8%ae%a4%e5%8f%af%e7%9a%84%e9%ab%98%e6%89%8bspan>#</a></h3><p>背景：Zhoues助教看到群里有人说要把“相信你”改为“相信聪明的你”，便用VScode打开网站项目。正要添上“聪明的”这三个字，突然瞥到之前在
<a href=/SE-Labs/docs/labs/lab02/django_door/>Django入门教程</a>写的登录处理函数有点奇怪，便仔细端详了一下。果不其然，发现了bug。</p><p>任务：聪明的你，请思考一下处理登录请求的完整逻辑，<strong>肉眼</strong>帮助教找出 <code>publish/views.py</code> 中登录函数 <code>login</code> 的 Bug，并修改。</p><h3 id=任务六-实验文档报告不做要求>任务六 实验文档报告（不做要求）
<a class=anchor href=#%e4%bb%bb%e5%8a%a1%e5%85%ad-%e5%ae%9e%e9%aa%8c%e6%96%87%e6%a1%a3%e6%8a%a5%e5%91%8a%e4%b8%8d%e5%81%9a%e8%a6%81%e6%b1%82>#</a></h3><p>如果你仍感叹于后端之大，也沉醉于Web情话，可以在实验报告中唠一唠你的实现思路。当然如果你选择无感，也可以不写。</p><h3 id=提交方式>提交方式
<a class=anchor href=#%e6%8f%90%e4%ba%a4%e6%96%b9%e5%bc%8f>#</a></h3><ul><li>截止时间：<strong>2023/3/25 晚12点</strong></li><li>提交方式：<a href=https://scs.buaa.edu.cn/ target=_blank>软院云平台</a></li><li>提交内容：实现上述任务功能后的项目代码文件夹，和实验报告（如果有的话），命名格式如下：</li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-txt data-lang=txt><span style=display:flex><span>学号_姓名_第2次实验.zip
</span></span><span style=display:flex><span>|-- 项目代码文件夹
</span></span><span style=display:flex><span>`-- 学号_姓名_第2次实验_实验报告.docx/pdf（如果有的话）
</span></span></code></pre></div><p>完成本次后端作业后，相信聪明的你已经有能力开心地投入到大作业后端的开发中了~~</p></article><footer class=book-footer><div class="flex flex-wrap justify-between"><div><a class="flex align-center" href=https://github.com/alex-shpak/hugo-book/commit/e3624e09aa8d7aa3976f5eb0f1f81a5ff17654e1 title='Last modified by 暗中观察|.･｀) | March 18, 2023' target=_blank rel=noopener><img src=/SE-Labs/svg/calendar.svg class=book-icon alt=Calendar>
<span>March 18, 2023</span></a></div><div><a class="flex align-center" href=https://github.com/alex-shpak/hugo-book/edit/main/exampleSite/content/docs/labs/lab02/backend_index.md target=_blank rel=noopener><img src=/SE-Labs/svg/edit.svg class=book-icon alt=Edit>
<span>Edit this page</span></a></div></div><script>(function(){function e(e){const t=window.getSelection(),n=document.createRange();n.selectNodeContents(e),t.removeAllRanges(),t.addRange(n)}document.querySelectorAll("pre code").forEach(t=>{t.addEventListener("click",function(){e(t.parentElement),navigator.clipboard&&navigator.clipboard.writeText(t.parentElement.textContent)})})})()</script></footer><div class=book-comments><script src=https://utteranc.es/client.js repo=BUAA-GoodBro2021/SE-Labs issue-term=pathname label=Comment theme=github-light crossorigin=anonymous async></script></div><label for=menu-control class="hidden book-menu-overlay"></label></div><aside class=book-toc><div class=book-toc-content><nav id=TableOfContents><ul><li><a href=#lab02-后端基础>Lab02 后端基础</a><ul><li><a href=#实验目的>实验目的</a></li><li><a href=#资源链接>资源链接</a></li><li><a href=#实验指南>实验指南</a></li><li><a href=#实验作业>实验作业</a><ul><li><a href=#任务一-完善注册>任务一 完善注册</a></li><li><a href=#任务二-新增文章表项>任务二 新增“文章”表项</a></li><li><a href=#任务三-新增发布文章api>任务三 新增“发布文章”API</a></li><li><a href=#任务四-新增查看文章列表api>任务四 新增“查看文章列表”API</a></li><li><a href=#任务五-聪明的你帮助教改改bugspan-stylecolor-red不强制写出来说明你是高手zhoues-认可的高手span>任务五 聪明的你帮助教改改Bug<span style=color:red>（不强制，写出来说明你是高手！Zhoues 认可的高手）</span></a></li><li><a href=#任务六-实验文档报告不做要求>任务六 实验文档报告（不做要求）</a></li><li><a href=#提交方式>提交方式</a></li></ul></li></ul></li></ul></nav></div></aside></main></body></html>